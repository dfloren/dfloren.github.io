<!doctype html>
<html lang="en">

<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100vh;
        width: 100vw;
        overflow: hidden; /* no scrolling */
        font-family: Arial, sans-serif;
        background: #f5e6c8;
        background-image:
            radial-gradient(circle, #ff5f5f 2px, transparent 3px),
            radial-gradient(circle, #5fafff 2px, transparent 3px),
            radial-gradient(circle, #ffd95f 2px, transparent 3px),
            radial-gradient(circle, #6fff7f 2px, transparent 3px);
        background-size: 60px 60px;
        background-position: 0 0, 30px 30px, 15px 45px, 45px 15px;
        position: relative;
    }

    .message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2em;
        font-weight: bold; /* bold text */
        color: white;
        -webkit-text-stroke: 1px black;
        text-align: center;
        opacity: 0;
        transition: opacity 0.5s ease;
        z-index: 2;
    }

    .message.show { opacity: 1; }

    /* Shake animation */
    @keyframes shake {
        0% { transform: translate(-50%, -50%) translateX(0); }
        10% { transform: translate(-50%, -50%) translateX(-12px); }
        20% { transform: translate(-50%, -50%) translateX(12px); }
        30% { transform: translate(-50%, -50%) translateX(-12px); }
        40% { transform: translate(-50%, -50%) translateX(12px); }
        50% { transform: translate(-50%, -50%) translateX(-12px); }
        60% { transform: translate(-50%, -50%) translateX(12px); }
        70% { transform: translate(-50%, -50%) translateX(-12px); }
        80% { transform: translate(-50%, -50%) translateX(12px); }
        90% { transform: translate(-50%, -50%) translateX(-12px); }
        100% { transform: translate(-50%, -50%) translateX(0); }
    }

    .shake { animation: shake 1s; }

    /* Confetti */
    @keyframes fall {
        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
        100% { transform: translateY(90vh) rotate(360deg); opacity: 0; }
    }

    /* Polaroid password prompt */
.password-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 220px;
    height: 320px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    text-align: center;
    background-color: #fefcf6;
    background-image: repeating-linear-gradient(
        45deg, 
        rgba(0,0,0,0.02) 0, 
        rgba(0,0,0,0.02) 1px, 
        transparent 1px, 
        transparent 4px
    );
    border-radius: 5px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.35);
    z-index: 10;
    padding: 15px;
    transition: transform 0.2s ease;
}

    .password-overlay img {
        max-width: 80%;
        max-height: 50%;
    }

    .password-overlay .bottom-inputs {
        display: flex;
        flex-direction: column;
        gap: 12px;
        width: 90%;
    }

    .password-overlay input {
        padding: 8px;
        font-size: 1em;
        border: 2px solid #2e8b57;
        border-radius: 4px;
        width: 100%;
        box-sizing: border-box;
    }

    .password-overlay button {
        padding: 8px;
        font-size: 1em;
        border: none;
        border-radius: 4px;
        background: #2e8b57;
        color: white;
        cursor: pointer;
        width: 100%;
    }

    .password-overlay button:hover { background: #3eb94c; }

    @media (max-width: 600px) {
        .password-overlay {
            width: 220px;
            height: 320px;
            font-size: 1.2em;
            border-radius: 8px;
            padding: 15px;
            justify-content: flex-start;
        }
        .password-overlay .bottom-inputs {
            margin-top: auto;
            margin-bottom: 20px;
            gap: 12px;
        }
        .password-overlay input,
        .password-overlay button {
            padding: 8px;
            font-size: 1.15em;
        }
    }
</style>
</head>

<body>
<div class="message" id="message"></div>

<div class="password-overlay" id="passwordOverlay">
    <img src="resources/images/pochacco_balloon.png" alt="Center image">
    <div class="bottom-inputs">
        <div>Enter the password:</div>
        <div style="font-size:0.8em;">Hint: Solve x/5 + 50/2 = 30</div>
        <input type="password" id="passwordInput" placeholder="Password">
        <button id="submitPassword">Submit</button>
    </div>
</div>

<script>
    const overlay = document.getElementById('passwordOverlay');
    const input = document.getElementById('passwordInput');
    const submitBtn = document.getElementById('submitPassword');
    const message = document.getElementById('message');

    const correctPassword = "25";
    const bypassPassword = "test";
    let countdownInterval;

    function createConfetti() {
        const confetti = document.createElement('div');
        confetti.style.position = 'absolute';
        confetti.style.top = '-20px';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.width = '6px';
        confetti.style.height = '12px';
        confetti.style.backgroundColor = ['#ff5f5f','#5fafff','#ffd95f','#6fff7f'][Math.floor(Math.random()*4)];
        confetti.style.opacity = '1';
        confetti.style.transform = `rotate(${Math.random()*360}deg)`;
        confetti.style.animation = `fall ${Math.random()*3+2}s linear forwards`;
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 5000);
    }

    function startConfetti() { setInterval(createConfetti, 200); }

    function openMessage() {
        overlay.style.display = 'none';
        message.innerHTML = "ðŸŽ‰ Happy 25th Birthday! ðŸŽ‰";
        message.classList.add('show');
        startConfetti();
    }

    function shakeOverlay() {
        overlay.classList.add('shake');
        setTimeout(() => overlay.classList.remove('shake'), 1000);
        input.value = '';
    }

    submitBtn.addEventListener('click', () => {
        const password = input.value;
        const birthdayET = new Date("2025-09-26T00:00:00-04:00");

        if(password === correctPassword){
            if(new Date() >= birthdayET){
                openMessage();
            } else {
                overlay.style.display = 'none';
                function updateCountdown() {
                    const now = new Date();
                    const diff = birthdayET - now;
                    if(diff <= 0){ 
                        clearInterval(countdownInterval); 
                        openMessage(); 
                        return; 
                    }
                    const days = Math.floor(diff / (1000*60*60*24));
                    const hours = Math.floor((diff / (1000*60*60)) % 24);
                    const minutes = Math.floor((diff / (1000*60)) % 60);
                    const seconds = Math.floor((diff / 1000) % 60);

                    message.innerHTML = `â³ You have to wait for your birthday!<br>${days}d ${hours}h ${minutes}m ${seconds}s`;
                    message.classList.add('show');
                }
                updateCountdown();
                countdownInterval = setInterval(updateCountdown, 1000);
            }
        } else if(password === bypassPassword){ 
            openMessage(); 
        } else { 
            shakeOverlay(); 
        }
    });

    input.addEventListener('keypress', e => { if(e.key==='Enter') submitBtn.click(); });

    // Cursor tracker only on desktop
    if(window.innerWidth > 600){
        const cursor = document.createElement('div');
        cursor.classList.add('cursor');
        document.body.appendChild(cursor);
        document.addEventListener('mousemove', e => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
    }

</script>
</body>
</html>
